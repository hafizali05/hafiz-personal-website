/*! jquery.kinetic - v1.8.0 - 2013-01-13
* http://the-taylors.org/jquery.kinetic
* Copyright (c) 2013 Dave Taylor; Licensed MIT */
(function(e){"use strict";var t={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n="kinetic-settings",r="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),e.support=e.support||{},e.extend(e.support,{touch:"ontouchend"in document});var i=function(){return!1},s=function(e,t){return Math.floor(Math.abs(e))===0?0:e*t},o=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},u=function(e,t){this.removeClass(e.movingClass.up).removeClass(e.movingClass.down).removeClass(e.movingClass.left).removeClass(e.movingClass.right).removeClass(e.deceleratingClass.up).removeClass(e.deceleratingClass.down).removeClass(e.deceleratingClass.left).removeClass(e.deceleratingClass.right),e.velocity>0&&this.addClass(t.right),e.velocity<0&&this.addClass(t.left),e.velocityY>0&&this.addClass(t.down),e.velocityY<0&&this.addClass(t.up)},a=function(e,t){t.velocity=0,t.velocityY=0,t.decelerate=!0,typeof t.stopped=="function"&&t.stopped.call(e,t)},f=function(e,t){var n=e[0];t.x&&n.scrollWidth>0?(n.scrollLeft=t.scrollLeft=n.scrollLeft+t.velocity,Math.abs(t.velocity)>0&&(t.velocity=t.decelerate?s(t.velocity,t.slowdown):t.velocity)):t.velocity=0,t.y&&n.scrollHeight>0?(n.scrollTop=t.scrollTop=n.scrollTop+t.velocityY,Math.abs(t.velocityY)>0&&(t.velocityY=t.decelerate?s(t.velocityY,t.slowdown):t.velocityY)):t.velocityY=0,u.call(e,t,t.deceleratingClass),typeof t.moved=="function"&&t.moved.call(e,t),Math.abs(t.velocity)>0||Math.abs(t.velocityY)>0?window.requestAnimationFrame(function(){f(e,t)}):a(e,t)},l=function(t,r){var i=e.kinetic.callMethods[t],s=Array.prototype.slice.call(arguments);i&&this.each(function(){var t=s.slice(1),r=e(this).data(n);t.unshift(r),i.apply(this,t)})},c=function(t,n){var r=t[0];e.support.touch?t.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):t.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),t.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",i).bind("dragstart",n.events.dragStart)},h=function(t,n){var r=t[0];e.support.touch?t.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):t.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove).unbind("scroll",n.events.scroll),t.unbind("click",n.events.inputClick).unbind("selectstart",i),t.unbind("dragstart",n.events.dragStart)},p=function(i){this.addClass(r).each(function(){var r=e.extend({},t,i),s=this,a=e(this),l,h=!1,p,d=!1,v=!1,m,g,y=1e3/r.throttleFPS,b,w;r.velocity=0,r.velocityY=0;var E=function(){l=!1,p=!1,v=!1};e(document).mouseup(E).click(E);var S=function(){r.velocity=o(h-l,r.maxvelocity),r.velocityY=o(d-p,r.maxvelocity)},x=function(t){return e.isFunction(r.filterTarget)?r.filterTarget.call(s,t)!==!1:!0},T=function(e,t){v=!0,r.velocity=h=0,r.velocityY=d=0,l=e,p=t},N=function(){l&&h&&r.decelerate===!1&&(r.decelerate=!0,S(),l=h=v=!1,f(a,r))},C=function(t,n){if(!b||new Date>new Date(b.getTime()+y))b=new Date,v&&(l||p)&&(w&&(e(w).blur(),w=null,a.focus()),r.decelerate=!1,r.velocity=r.velocityY=0,a[0].scrollLeft=r.scrollLeft=r.x?a[0].scrollLeft-(t-l):a[0].scrollLeft,a[0].scrollTop=r.scrollTop=r.y?a[0].scrollTop-(n-p):a[0].scrollTop,h=l,d=p,l=t,p=n,S(),u.call(a,r,r.movingClass),typeof r.moved=="function"&&r.moved.call(a,r))};r.events={touchStart:function(e){var t;x(e.target)&&(t=e.originalEvent.touches[0],T(t.clientX,t.clientY),e.stopPropagation())},touchMove:function(e){var t;v&&(t=e.originalEvent.touches[0],C(t.clientX,t.clientY),e.preventDefault&&e.preventDefault())},inputDown:function(e){x(e.target)&&(T(e.clientX,e.clientY),w=e.target,e.target.nodeName==="IMG"&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){N(),w=null,e.preventDefault&&e.preventDefault()},inputMove:function(e){v&&(C(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(e){typeof r.moved=="function"&&r.moved.call(a,r),e.preventDefault&&e.preventDefault()},inputClick:function(e){if(Math.abs(r.velocity)>0)return e.preventDefault(),!1},dragStart:function(e){if(w)return!1}},c(a,r),a.data(n,r).css("cursor",r.cursor),r.triggerHardware&&a.css("-webkit-transform","translate3d(0,0,0)")})};e.kinetic={settingsKey:n,callMethods:{start:function(t,n){var r=e(this);t=e.extend(t,n),t&&(t.decelerate=!1,f(r,t))},end:function(t,n){var r=e(this);t&&(t.decelerate=!0)},stop:function(t,n){var r=e(this);a(r,t)},detach:function(t,n){var i=e(this);h(i,t),i.removeClass(r).css("cursor","")},attach:function(t,n){var i=e(this);c(i,t),i.addClass(r).css("cursor","move")}}},e.fn.kinetic=function(e){return typeof e=="string"?l.apply(this,arguments):p.call(this,e),this}})(window.jQuery||window.Zepto);